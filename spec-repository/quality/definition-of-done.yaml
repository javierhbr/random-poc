version: "1.0.0"

base:
  - id: "DOD-001"
    description: "All acceptance criteria from Spec verified and checked off in Verify doc"
    category: "spec"
  - id: "DOD-002"
    description: "Unit test coverage >= 80% for all new code"
    category: "testing"
  - id: "DOD-003"
    description: "Integration tests written for new API endpoints and event emitters"
    category: "testing"
  - id: "DOD-004"
    description: "No new CRITICAL or HIGH security findings in dependency scan"
    category: "security"
  - id: "DOD-005"
    description: "Observability: metrics, structured logs, and traces instrumented"
    category: "observability"
  - id: "DOD-006"
    description: "Alerts configured and tested in staging"
    category: "observability"
  - id: "DOD-007"
    description: "Runbook created or updated"
    category: "operations"
  - id: "DOD-008"
    description: "Feature flag in place and tested"
    category: "deployment"
  - id: "DOD-009"
    description: "Rollback tested in staging"
    category: "deployment"
  - id: "DOD-010"
    description: "Tech Lead and Product sign-off obtained"
    category: "governance"

by_risk_level:
  medium:
    - id: "DOD-020"
      description: "Load test executed — p99 within defined budget"
      category: "performance"

  high:
    - id: "DOD-020"
      description: "Load test executed — p99 within defined budget"
      category: "performance"
    - id: "DOD-021"
      description: "Security review completed and signed off"
      category: "security"
    - id: "DOD-022"
      description: "Accessibility audit passed (axe-core + manual keyboard test)"
      category: "accessibility"

  critical:
    - id: "DOD-020"
      description: "Load test executed — p99 within defined budget"
      category: "performance"
    - id: "DOD-021"
      description: "Security review completed and signed off"
      category: "security"
    - id: "DOD-022"
      description: "Accessibility audit passed (axe-core + manual keyboard test)"
      category: "accessibility"
    - id: "DOD-030"
      description: "Threat model completed and reviewed"
      category: "security"
    - id: "DOD-031"
      description: "Canary deploy plan defined and approved"
      category: "deployment"
    - id: "DOD-032"
      description: "Dual approval: platform-team + domain lead"
      category: "governance"
    - id: "DOD-033"
      description: "Privacy Impact Assessment (PIA) completed"
      category: "compliance"

by_change_type:
  integration:
    - id: "DOD-040"
      description: "Consumer contract tests passing (both consumer and provider)"
      category: "contracts"
    - id: "DOD-041"
      description: "API versioning strategy documented and in place"
      category: "contracts"

  migration:
    - id: "DOD-050"
      description: "Data migration dry-run completed in staging"
      category: "data"
    - id: "DOD-051"
      description: "Backwards compatibility verified for 90-day window"
      category: "data"
    - id: "DOD-052"
      description: "Zero-downtime migration verified"
      category: "data"
